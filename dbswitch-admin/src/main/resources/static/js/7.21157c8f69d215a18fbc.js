webpackJsonp([7],{"3DaH":function(e,t,a){"use strict";var o=a("mvHQ"),r=a.n(o),l={components:{commonInfo:a("na+p").a},data:function(){return{cronExprOptionList:[{name:"每5分钟执行1次",value:"0 0/5 * * * ? *"},{name:"每30分钟执行1次",value:"0 0/30 * * * ? *"},{name:"每1小时执行1次",value:"0 0 0/1 * * ? *"},{name:"每2小时执行1次",value:"0 0 0/2 * * ? *"},{name:"每8小时执行1次",value:"0 0 0/8 * * ? *"},{name:"每12小时执行1次",value:"0 0 0/12 * * ? *"},{name:"每日0时执行1次",value:"0 0 0 1/1 * ? *"}],nameConvertList:[{name:"无转换",value:"NONE"},{name:"转大写",value:"UPPER"},{name:"转小写",value:"LOWER"},{name:"下划线转驼峰",value:"CAMEL"},{name:"驼峰转下划线",value:"SNAKE"}],batchSizeList:[100,500,1e3,5e3,1e4,2e4],channelSizeList:[10,20,40,60,80,100,200,500,1e3],targetSyncOptionList:[{name:"只同步INSERT操作",value:"ONLY_INSERT"},{name:"只同步UPDATE操作",value:"ONLY_UPDATE"},{name:"只同步INSERT和UPDATE",value:"INSERT_UPDATE"},{name:"只同步DELETE操作",value:"ONLY_DELETE"},{name:"只同步UPDATE和DELETE",value:"UPDATE_DELETE"},{name:"执行所有的同步操作",value:"INSERT_UPDATE_DELETE"}],dataform:{id:0,name:"",description:"",scheduleMode:"MANUAL",scheduleModeName:"手动调度",cronExpression:"",sourceConnectionId:"请选择",sourceTypeName:"MySQL",sourceSchema:"",tableType:"TABLE",includeOrExclude:"",sourceTables:[],incrTableColumns:[],sourceBeforeSqlScripts:"",sourceAfterSqlScripts:"",tableNameMapper:[],columnNameMapper:[],tableNameCase:"NONE",columnNameCase:"NONE",targetConnectionId:"请选择",targetTypeName:"MySQL",targetDropTable:!0,targetOnlyCreate:!1,targetAutoIncrement:!1,autoSyncMode:2,targetSchema:"",batchSize:5e3,channelSize:100,targetSyncOption:"INSERT_UPDATE_DELETE",targetBeforeSqlScripts:"",targetAfterSqlScripts:""},rules:{name:[{required:!0,message:"任务名称不能为空",trigger:"blur"}],scheduleMode:[{required:!0,type:"string",message:"调度方式必须选择",trigger:"change"}],sourceConnectionId:[{required:!0,type:"integer",message:"必选选择一个来源端",trigger:"change"}],sourceSchema:[{required:!0,type:"string",message:"必选选择一个Schema名",trigger:"change"}],tableType:[{required:!0,type:"string",message:"表类型必须选择",trigger:"change"}],includeOrExclude:[{required:!0,type:"string",message:"配置方式必须选择",trigger:"change"}],sourceTables:[{required:!1,type:"array",message:"必选选择一个Table名",trigger:"change"}],targetConnectionId:[{required:!0,type:"integer",message:"必选选择一个目的端",trigger:"change"}],targetSchema:[{required:!0,type:"string",message:"必选选择一个Schema名",trigger:"change"}],batchSize:[{required:!0,type:"integer",message:"必选选择一个数据批次大小",trigger:"change"}],channelSize:[{required:!0,type:"integer",message:"必选选择一个通道队列大小",trigger:"change"}],targetSyncOption:[{required:!0,type:"string",message:"必选选择一个同步方法来 ",trigger:"change"}]},active:1,radio:"0",sourceConnection:{},targetConnection:{},sourceConnectionSchemas:[],sourceSchemaTables:[],targetConnectionSchemas:[],columnNameIncrementDialogVisible:!1,showDataSyncMessageDialogVisible:!1,tableNameMapperDialogVisible:!1,columnNameMapperDialogVisible:!1,tableNamesMapperData:[],columnNamesMapperData:[],preiveSeeTableNameList:[],preiveTableName:"",tempIncrTableName:"",tempIncrColumnName:""}},methods:{initScheduleModeTemp:function(e){return"SYSTEM_SCHEDULED"===e?"系统调度":"MANUAL"===e?"手动调度":void 0},scheduleModeUpdate:function(e){"系统调度"===e&&(this.dataform.scheduleMode="SYSTEM_SCHEDULED"),"手动调度"===e&&(this.dataform.scheduleMode="MANUAL")},boolValueFormat:function(e){return!0===e?"是":"否"},handleClose:function(e){},next:function(){this.active++>4&&(this.active=5)},pre:function(){this.active--<2&&(this.active=1)},loadConnections:function(){var e=this;this.connectionNameList=[],this.$http({method:"GET",url:"/dbswitch/admin/api/v1/connection/list/name"}).then(function(t){0===t.data.code?e.connectionNameList=t.data.data:(e.connectionNameList=[],t.data.message&&alert("加载任务列表失败:"+t.data.message))})},loadAssignmentDetail:function(){var e=this;this.$route.query.id&&this.$route.query.id>0&&this.$http.get("/dbswitch/admin/api/v1/assignment/detail/id/"+this.$route.query.id).then(function(t){if(0===t.data.code){var a=t.data.data,o=2;o=a.configuration.targetDropTable&&a.configuration.targetOnlyCreate?1:a.configuration.targetDropTable||a.configuration.targetOnlyCreate?2:0,e.dataform={id:a.id,name:a.name,description:a.description,scheduleMode:a.scheduleMode,scheduleModeName:e.initScheduleModeTemp(a.scheduleMode),cronExpression:a.cronExpression,sourceConnectionId:a.configuration.sourceConnectionId,sourceTypeName:a.configuration.sourceTypeName,sourceConnectionName:a.configuration.sourceConnectionName,sourceSchema:a.configuration.sourceSchema,tableType:a.configuration.tableType,includeOrExclude:a.configuration.includeOrExclude,sourceTables:a.configuration.sourceTables,incrTableColumns:a.configuration.incrTableColumns,sourceBeforeSqlScripts:a.configuration.sourceBeforeSqlScripts,sourceAfterSqlScripts:a.configuration.sourceAfterSqlScripts,tableNameMapper:a.configuration.tableNameMapper,columnNameMapper:a.configuration.columnNameMapper,tableNameCase:a.configuration.tableNameCase,columnNameCase:a.configuration.columnNameCase,targetConnectionId:a.configuration.targetConnectionId,targetTypeName:a.configuration.targetTypeName,targetConnectionName:a.configuration.targetConnectionName,targetDropTable:a.configuration.targetDropTable,targetOnlyCreate:a.configuration.targetOnlyCreate,targetAutoIncrement:a.configuration.targetAutoIncrement,autoSyncMode:o,targetSchema:a.configuration.targetSchema,batchSize:a.configuration.batchSize,channelSize:a.configuration.channelSize,targetSyncOption:a.configuration.targetSyncOption,targetBeforeSqlScripts:a.configuration.targetBeforeSqlScripts,targetAfterSqlScripts:a.configuration.targetAfterSqlScripts},e.selectChangedSourceConnection(e.dataform.sourceConnectionId),e.selectCreateChangedSourceSchema(e.dataform.sourceSchema),e.selectChangedTargetConnection(e.dataform.targetConnectionId)}else t.data.message&&alert("查询任务失败,"+t.data.message)})},changeCreateCronExpression:function(e){this.dataform.cronExpression=e},selectChangedSourceConnection:function(e){var t=this;this.sourceConnection=this.connectionNameList.find(function(t){return t.id===e}),this.sourceConnection&&(this.dataform.sourceTypeName=this.sourceConnection.typeName),this.sourceConnectionSchemas=[],this.$http.get("/dbswitch/admin/api/v1/connection/schemas/get/"+e).then(function(e){0===e.data.code?t.sourceConnectionSchemas=e.data.data:(t.$message.error("查询来源端数据库的Schema失败,"+e.data.message),t.sourceConnectionSchemas=[])})},selectCreateChangedSourceSchema:function(e){var t=this;this.sourceSchemaTables=[],"TABLE"===this.dataform.tableType?this.$http.get("/dbswitch/admin/api/v1/connection/tables/get/"+this.dataform.sourceConnectionId+"?schema="+e).then(function(e){0===e.data.code?t.sourceSchemaTables=e.data.data:(t.$message.error("查询来源端数据库在指定Schema下的物理表列表失败,"+e.data.message),t.sourceSchemaTables=[])}):this.$http.get("/dbswitch/admin/api/v1/connection/views/get/"+this.dataform.sourceConnectionId+"?schema="+e).then(function(e){0===e.data.code?t.sourceSchemaTables=e.data.data:(t.$message.error("查询来源端数据库在指定Schema下的视图表列表失败,"+e.data.message),t.sourceSchemaTables=[])})},selectCreateChangedTableType:function(e){var t=this;this.sourceSchemaTables=[],"TABLE"===e?this.$http.get("/dbswitch/admin/api/v1/connection/tables/get/"+this.dataform.sourceConnectionId+"?schema="+this.dataform.sourceSchema).then(function(e){0===e.data.code?t.sourceSchemaTables=e.data.data:(t.$message.error("查询来源端数据库在指定Schema下的物理表列表失败,"+e.data.message),t.sourceSchemaTables=[])}):this.$http.get("/dbswitch/admin/api/v1/connection/views/get/"+this.dataform.sourceConnectionId+"?schema="+this.dataform.sourceSchema).then(function(e){0===e.data.code?t.sourceSchemaTables=e.data.data:(t.$message.error("查询来源端数据库在指定Schema下的视图表列表失败,"+e.data.message),t.sourceSchemaTables=[])})},handleAddInputIncrTable:function(){var e=this;if(!this.dataform.sourceConnectionId||this.dataform.sourceConnectionId<0||!this.dataform.sourceSchema||0==this.dataform.sourceSchema.length)alert("请选择【源端数据源】和【源端模式名】！");else if(this.dataform.includeOrExclude){if("INCLUDE"==this.dataform.includeOrExclude)0==this.dataform.sourceTables.length?this.preiveSeeTableNameList=this.sourceSchemaTables:this.preiveSeeTableNameList=this.dataform.sourceTables;else{if(0==this.dataform.sourceTables.length)return void alert("请选择排除表的【表名配置】！");this.preiveSeeTableNameList=JSON.parse(r()(this.sourceSchemaTables));for(var t=0;t<this.dataform.sourceTables.length;++t){var a=this.dataform.sourceTables[t];this.preiveSeeTableNameList.some(function(t,o){if(t==a)return e.preiveSeeTableNameList.splice(o,1),!0})}}this.columnNameIncrementDialogVisible=!0}else alert("请选择源端表选择的【配置方式】！")},handleDeleteIncrTable:function(e){this.dataform.incrTableColumns.splice(e,1)},selectChangedTargetConnection:function(e){var t=this;this.targetConnection=this.connectionNameList.find(function(t){return t.id===e}),this.targetConnection&&(this.dataform.targetTypeName=this.targetConnection.typeName),this.targetConnectionSchemas=[],this.$http.get("/dbswitch/admin/api/v1/connection/schemas/get/"+e).then(function(e){0===e.data.code?t.targetConnectionSchemas=e.data.data:(t.$message.error("查询目的端数据库的Schema失败,"+e.data.message),t.targetConnectionSchemas=[])})},addTableNameMapperListRow:function(){this.dataform.tableNameMapper.push({fromPattern:"",toValue:""})},deleteTableNameMapperListItem:function(e){this.dataform.tableNameMapper.splice(e,1)},previewTableNameMapList:function(){var e=this;!this.dataform.sourceConnectionId||this.dataform.sourceConnectionId<0||!this.dataform.sourceSchema||0==this.dataform.sourceSchema.length?alert("请选择【源端数据源】和【源端模式名】！"):this.dataform.includeOrExclude?this.$http({method:"POST",headers:{"Content-Type":"application/json"},url:"/dbswitch/admin/api/v1/mapper/preview/table",data:r()({id:this.dataform.sourceConnectionId,schemaName:this.dataform.sourceSchema,isInclude:"INCLUDE"==this.dataform.includeOrExclude,tableNames:this.dataform.sourceTables,nameMapper:this.dataform.tableNameMapper,tableNameCase:this.dataform.tableNameCase})}).then(function(t){0===t.data.code?(e.tableNamesMapperData=t.data.data,e.tableNameMapperDialogVisible=!0):(e.tableNamesMapperData=[],t.data.message&&alert(t.data.message))}):alert("请选择源端表选择的【配置方式】！")},addColumnNameMapperListRow:function(){this.dataform.columnNameMapper.push({fromPattern:"",toValue:""})},deleteColumnNameMapperListItem:function(e){this.dataform.columnNameMapper.splice(e,1)},previewColumnNameMapList:function(){var e=this;if(!this.dataform.sourceConnectionId||this.dataform.sourceConnectionId<=0||!this.dataform.sourceSchema||0==this.dataform.sourceSchema.length)alert("请选择【源端数据源】和【源端模式名】！");else if(this.dataform.includeOrExclude){if("INCLUDE"==this.dataform.includeOrExclude)0==this.dataform.sourceTables.length?this.preiveSeeTableNameList=this.sourceSchemaTables:this.preiveSeeTableNameList=this.dataform.sourceTables;else{if(0==this.dataform.sourceTables.length)return void alert("请选择排除表的【表名配置】！");this.preiveSeeTableNameList=JSON.parse(r()(this.sourceSchemaTables));for(var t=0;t<this.dataform.sourceTables.length;++t){var a=this.dataform.sourceTables[t];this.preiveSeeTableNameList.some(function(t,o){if(t==a)return e.preiveSeeTableNameList.splice(o,1),!0})}}this.preiveTableName="",this.columnNamesMapperData=[],this.columnNameMapperDialogVisible=!0}else alert("请选择源端表选择的【配置方式】！")},queryPreviewColumnNameMapperList:function(){var e=this;this.preiveSeeTableNameList&&0!=this.preiveSeeTableNameList.length?this.preiveTableName&&0!=this.preiveTableName.length?this.$http({method:"POST",headers:{"Content-Type":"application/json"},url:"/dbswitch/admin/api/v1/mapper/preview/column",data:r()({id:this.dataform.sourceConnectionId,schemaName:this.dataform.sourceSchema,isInclude:"INCLUDE"==this.dataform.includeOrExclude,tableName:this.preiveTableName,nameMapper:this.dataform.columnNameMapper,columnNameCase:this.dataform.columnNameCase})}).then(function(t){0===t.data.code?e.columnNamesMapperData=t.data.data:t.data.message&&alert(t.data.message)}):alert("请选择一个表名！"):alert("请在源端配置【表名配置】！")},singleRowClick:function(e){e.canIncrement?(this.tempIncrTableName=this.preiveTableName,this.tempIncrColumnName=e.originalName,this.radio=e.originalName,console.log("table="+this.tempIncrTableName+";column="+this.tempIncrColumnName)):this.$alert("非整型或日期时间类型不能被选中","提示信息",{confirmButtonText:"确定",type:"warn"})},handleConfirmSelectIncrTableColumn:function(){var e=this;this.tempIncrTableName&&this.tempIncrColumnName?this.dataform.incrTableColumns.find(function(t){return t.tableName===e.tempIncrTableName})?this.$alert("已经存在增量同步表["+this.tempIncrTableName+"]的配置了","提示信息",{confirmButtonText:"确定",type:"info"}):(this.dataform.incrTableColumns.push({tableName:this.tempIncrTableName,columnName:this.tempIncrColumnName}),this.handleCancelSelectIncrTableColumn()):this.$alert("请选择一个标识增量字段来","错误信息",{confirmButtonText:"确定",type:"error"})},handleCancelSelectIncrTableColumn:function(){this.columnNameIncrementDialogVisible=!1,this.preiveTableName="",this.columnNamesMapperData=[],this.tempIncrTableName="",this.tempIncrColumnName="",this.radio=""},handleSave:function(){var e=this;0===this.dataform.autoSyncMode?(this.dataform.targetDropTable=!1,this.dataform.targetOnlyCreate=!1):1===this.dataform.autoSyncMode?(this.dataform.targetDropTable=!0,this.dataform.targetOnlyCreate=!0):(this.dataform.targetDropTable=!0,this.dataform.targetOnlyCreate=!1),this.$refs.dataform.validate(function(t){t?e.$route.query.id&&e.$route.query.id>0?e.$http({method:"POST",headers:{"Content-Type":"application/json"},url:"/dbswitch/admin/api/v1/assignment/update",data:r()({id:e.$route.query.id,name:e.dataform.name,description:e.dataform.description,scheduleMode:e.dataform.scheduleMode,cronExpression:e.dataform.cronExpression,config:{sourceConnectionId:e.dataform.sourceConnectionId,sourceSchema:e.dataform.sourceSchema,tableType:e.dataform.tableType,includeOrExclude:e.dataform.includeOrExclude,sourceTables:e.dataform.sourceTables,incrTableColumns:e.dataform.incrTableColumns,sourceBeforeSqlScripts:e.dataform.sourceBeforeSqlScripts,sourceAfterSqlScripts:e.dataform.sourceAfterSqlScripts,targetConnectionId:e.dataform.targetConnectionId,targetSchema:e.dataform.targetSchema,tableNameMapper:e.dataform.tableNameMapper,columnNameMapper:e.dataform.columnNameMapper,tableNameCase:e.dataform.tableNameCase,columnNameCase:e.dataform.columnNameCase,targetDropTable:e.dataform.targetDropTable,targetOnlyCreate:e.dataform.targetOnlyCreate,targetAutoIncrement:e.dataform.targetAutoIncrement,batchSize:e.dataform.batchSize,channelSize:e.dataform.channelSize,targetSyncOption:e.dataform.targetSyncOption,targetBeforeSqlScripts:e.dataform.targetBeforeSqlScripts,targetAfterSqlScripts:e.dataform.targetAfterSqlScripts}})}).then(function(t){0===t.data.code?(e.$message({message:"修改任务成功!",type:"success"}),e.$router.push("/task/list")):t.data.message&&alert(t.data.message)}):e.$http({method:"POST",headers:{"Content-Type":"application/json"},url:"/dbswitch/admin/api/v1/assignment/create",data:r()({name:e.dataform.name,description:e.dataform.description,scheduleMode:e.dataform.scheduleMode,cronExpression:e.dataform.cronExpression,config:{sourceConnectionId:e.dataform.sourceConnectionId,sourceSchema:e.dataform.sourceSchema,tableType:e.dataform.tableType,includeOrExclude:e.dataform.includeOrExclude,sourceTables:e.dataform.sourceTables,incrTableColumns:e.dataform.incrTableColumns,sourceBeforeSqlScripts:e.dataform.sourceBeforeSqlScripts,sourceAfterSqlScripts:e.dataform.sourceAfterSqlScripts,targetConnectionId:e.dataform.targetConnectionId,targetSchema:e.dataform.targetSchema,tableNameMapper:e.dataform.tableNameMapper,columnNameMapper:e.dataform.columnNameMapper,tableNameCase:e.dataform.tableNameCase,columnNameCase:e.dataform.columnNameCase,targetDropTable:e.dataform.targetDropTable,targetOnlyCreate:e.dataform.targetOnlyCreate,targetAutoIncrement:e.dataform.targetAutoIncrement,batchSize:e.dataform.batchSize,channelSize:e.dataform.channelSize,targetSyncOption:e.dataform.targetSyncOption,targetBeforeSqlScripts:e.dataform.targetBeforeSqlScripts,targetAfterSqlScripts:e.dataform.targetAfterSqlScripts}})}).then(function(t){0===t.data.code?(e.$message({message:"添加任务成功!",type:"success"}),e.$router.push("/task/list")):t.data.message&&alert(t.data.message)}):alert("请点击【上一步】检查输入")})}},created:function(){this.loadConnections(),this.loadAssignmentDetail()}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-steps",{attrs:{active:e.active,"finish-status":"success"}},[a("el-step",{attrs:{title:"基本信息配置"}}),e._v(" "),a("el-step",{attrs:{title:"同步源端配置"}}),e._v(" "),a("el-step",{attrs:{title:"目标端配置"}}),e._v(" "),a("el-step",{attrs:{title:"映射转换配置"}}),e._v(" "),a("el-step",{attrs:{title:"配置确认提交"}})],1),e._v(" "),a("el-form",{ref:"dataform",attrs:{model:e.dataform,"status-icon":"",rules:e.rules}},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.active,expression:"active == 1"}],staticClass:"common-top"},[a("el-form-item",{staticStyle:{width:"65%"},attrs:{label:"任务名称","label-width":"160px",required:!0,prop:"name"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{"auto-complete":"off",placeholder:"请输入任务名称"},model:{value:e.dataform.name,callback:function(t){e.$set(e.dataform,"name",t)},expression:"dataform.name"}}),e._v(" "),a("label",{staticClass:"tips-style block"},[e._v("请输入任务名称，只能以字母、数字为开头，包含字母、数字和._-，3-100个字符")])],1),e._v(" "),a("el-form-item",{staticStyle:{width:"65%"},attrs:{label:"描述","label-width":"160px",prop:"description"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:3,"auto-complete":"off",placeholder:"请输入任务描述"},model:{value:e.dataform.description,callback:function(t){e.$set(e.dataform,"description",t)},expression:"dataform.description"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"集成模式","label-width":"160px",required:!0,prop:"scheduleMode"}},[e._e(),e._v(" "),a("el-radio-group",{attrs:{size:"mini"},on:{change:e.scheduleModeUpdate},model:{value:e.dataform.scheduleModeName,callback:function(t){e.$set(e.dataform,"scheduleModeName",t)},expression:"dataform.scheduleModeName"}},[a("el-radio-button",{attrs:{value:"MANUAL",label:"手动调度"}}),e._v(" "),a("el-radio-button",{attrs:{value:"SYSTEM_SCHEDULED",label:"系统调度"}})],1)],1),e._v(" "),"SYSTEM_SCHEDULED"==e.dataform.scheduleMode?a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"执行周期","label-width":"160px",required:!0}},[a("el-select",{attrs:{filterable:"","allow-create":""},model:{value:e.dataform.cronExpression,callback:function(t){e.$set(e.dataform,"cronExpression",t)},expression:"dataform.cronExpression"}},e._l(e.cronExprOptionList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.value}})}),1),e._v(" "),a("label",{staticClass:"tips-style block"},[e._v("执行周期为CRON表达式，即可以选择以下内置的周期，也可以自行输入或粘贴合法的CRON表达式(最小间隔时间为2分钟)。")])],1):e._e()],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.active,expression:"active == 2"}],staticClass:"common-top"},[a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"源端数据源","label-width":"160px",required:!0,prop:"sourceConnectionId"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.selectChangedSourceConnection},model:{value:e.dataform.sourceConnectionId,callback:function(t){e.$set(e.dataform,"sourceConnectionId",t)},expression:"dataform.sourceConnectionId"}},e._l(e.connectionNameList,function(e,t){return a("el-option",{key:t,attrs:{label:"["+e.id+"] "+e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"源端模式名","label-width":"160px",required:!0,prop:"sourceSchema"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:e.selectCreateChangedSourceSchema},model:{value:e.dataform.sourceSchema,callback:function(t){e.$set(e.dataform,"sourceSchema",t)},expression:"dataform.sourceSchema"}},e._l(e.sourceConnectionSchemas,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}),1)],1),e._v(" "),a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"源端表类型","label-width":"160px",required:!0,prop:"tableType"}},[a("el-select",{attrs:{placeholder:"请选择表类型"},on:{change:e.selectCreateChangedTableType},model:{value:e.dataform.tableType,callback:function(t){e.$set(e.dataform,"tableType",t)},expression:"dataform.tableType"}},[a("el-option",{attrs:{label:"物理表",value:"TABLE"}}),e._v(" "),a("el-option",{attrs:{label:"视图表",value:"VIEW"}})],1)],1),e._v(" "),a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"配置方式","label-width":"160px",required:!0,prop:"includeOrExclude"}},[a("el-select",{attrs:{placeholder:"请选择配置方式"},model:{value:e.dataform.includeOrExclude,callback:function(t){e.$set(e.dataform,"includeOrExclude",t)},expression:"dataform.includeOrExclude"}},[a("el-option",{attrs:{label:"包含表",value:"INCLUDE"}}),e._v(" "),a("el-option",{attrs:{label:"排除表",value:"EXCLUDE"}})],1)],1),e._v(" "),a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"表名配置","label-width":"160px",required:!1,prop:"sourceTables"}},[a("el-select",{attrs:{placeholder:"请选择表名",multiple:"",filterable:""},model:{value:e.dataform.sourceTables,callback:function(t){e.$set(e.dataform,"sourceTables",t)},expression:"dataform.sourceTables"}},e._l(e.sourceSchemaTables,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}),1),e._v(" "),a("label",{staticClass:"tips-style block"},[e._v("当为包含表时，选择所要精确包含的表名，如果不选则代表选择所有；当为排除表时，必须选择要精确排除的表名。")])],1),e._v(" "),a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"增量同步配置","label-width":"160px",required:!1}},[e._v("\n          \n        "),a("i",{staticClass:"el-icon-plus",on:{click:e.handleAddInputIncrTable}}),e._v("\n            \n        "),a("i",{staticClass:"el-icon-question",on:{click:function(t){e.showDataSyncMessageDialogVisible=!0}}}),e._v(" "),a("el-table",{attrs:{data:e.dataform.incrTableColumns,"header-cell-style":{background:"#eef1f6",color:"#606266"},size:"mini",border:""}},[a("el-table-column",{attrs:{label:"表名",prop:"tableName","min-width":"45%"}}),e._v(" "),a("el-table-column",{attrs:{label:"增量字段名",prop:"columnName","min-width":"45%"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{icon:"el-icon-delete"},on:{click:function(a){return e.handleDeleteIncrTable(t.$index)}}})]}}])})],1),e._v(" "),a("label",{staticClass:"tips-style block"},[e._v("可点击加号+按钮为需要增量同步的大表配置增量同步的字段来加快数据同步速度")])],1),e._v(" "),a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"同步前置执行SQL脚本","label-width":"160px",prop:"sourceBeforeSqlScripts"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:3,"auto-complete":"off"},model:{value:e.dataform.sourceBeforeSqlScripts,callback:function(t){e.$set(e.dataform,"sourceBeforeSqlScripts",t)},expression:"dataform.sourceBeforeSqlScripts"}}),e._v(" "),a("label",{staticClass:"tips-style block"},[e._v("数据同步查询源端数据库前执行的SQL，多个SQL间以英文逗号分隔。")])],1),e._v(" "),a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"同步后置执行SQL脚本","label-width":"160px",prop:"sourceAfterSqlScripts"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:3,"auto-complete":"off"},model:{value:e.dataform.sourceAfterSqlScripts,callback:function(t){e.$set(e.dataform,"sourceAfterSqlScripts",t)},expression:"dataform.sourceAfterSqlScripts"}}),e._v(" "),a("label",{staticClass:"tips-style block"},[e._v("数据同步查询源端数据库后执行的SQL，多个SQL间以英文逗号分隔。")])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==e.active,expression:"active == 3"}],staticClass:"common-top"},[a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"目的端数据源","label-width":"160px",required:!0,prop:"targetConnectionId"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.selectChangedTargetConnection},model:{value:e.dataform.targetConnectionId,callback:function(t){e.$set(e.dataform,"targetConnectionId",t)},expression:"dataform.targetConnectionId"}},e._l(e.connectionNameList,function(e,t){return a("el-option",{key:t,attrs:{label:"["+e.id+"]"+e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"目的端模式名","label-width":"160px",required:!0,prop:"targetSchema"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.dataform.targetSchema,callback:function(t){e.$set(e.dataform,"targetSchema",t)},expression:"dataform.targetSchema"}},e._l(e.targetConnectionSchemas,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}),1)],1),e._v(" "),a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"自动同步模式","label-width":"160px",required:!0,prop:"autoSyncMode"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",{staticStyle:{color:"red"}},[a("strong",[e._v("自动同步模式")])])]),e._v(" "),a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v("目标端建表并同步数据：首次在目标的自动建表(存在重命表时会删除重建)并执行数据加载同步操作，再次执行时会根据是否有主键进行变化量同步；")]),e._v(" "),a("p",[e._v("目标端只创建物理表: 每次执行时，只在目标端自动建表，存在重名表时会删除后重建；")]),e._v(" "),a("p",[e._v("目标端只同步表里数据：每次执行时，目标端需要存在符合映射规则的物理表，最迟需要在执行任务前已经存在目标表；"),a("br"),e._v("该选项通\n              常适用于两端表结构一致时(或目标端字段包含源端所有的字段且字段数据类型一致)的数据同步场景")])]),e._v(" "),a("i",{staticClass:"el-icon-question"})]),e._v(" "),a("el-select",{model:{value:e.dataform.autoSyncMode,callback:function(t){e.$set(e.dataform,"autoSyncMode",t)},expression:"dataform.autoSyncMode"}},[a("el-option",{attrs:{label:"目标端建表并同步数据",value:2}}),e._v(" "),a("el-option",{attrs:{label:"目标端只创建物理表",value:1}}),e._v(" "),a("el-option",{attrs:{label:"目标端只同步表里数据",value:0}})],1)],1),e._v(" "),0!==e.dataform.autoSyncMode?a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"建表字段自增","label-width":"160px",required:!0,prop:"targetAutoIncrement"}},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            创建表时是否自动支持字段的自增；只有使用自动建表才会生效，不过前提需要两端的数据库表建表时支持指定自增字段，默认为false。\n          ")]),e._v(" "),a("i",{staticClass:"el-icon-question"})]),e._v(" "),a("el-select",{model:{value:e.dataform.targetAutoIncrement,callback:function(t){e.$set(e.dataform,"targetAutoIncrement",t)},expression:"dataform.targetAutoIncrement"}},[a("el-option",{attrs:{label:"是",value:!0}}),e._v(" "),a("el-option",{attrs:{label:"否",value:!1}})],1)],1):e._e(),e._v(" "),a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"表名转换方法","label-width":"160px",required:!0,prop:"tableNameCase"}},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            转换说明：先使用下面的表名映射，然后再使用这里的表名转换方法转换，对支持大小写敏感的数据库类型有效。\n          ")]),e._v(" "),a("i",{staticClass:"el-icon-question"})]),e._v(" "),a("el-select",{model:{value:e.dataform.tableNameCase,callback:function(t){e.$set(e.dataform,"tableNameCase",t)},expression:"dataform.tableNameCase"}},e._l(e.nameConvertList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"列名转换方法","label-width":"160px",required:!0,prop:"columnNameCase"}},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            转换说明：先使用下面的列名映射，然后再使用这里的转换方法转换，对支持大小写敏感的数据库类型有效。\n          ")]),e._v(" "),a("i",{staticClass:"el-icon-question"})]),e._v(" "),a("el-select",{model:{value:e.dataform.columnNameCase,callback:function(t){e.$set(e.dataform,"columnNameCase",t)},expression:"dataform.columnNameCase"}},e._l(e.nameConvertList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.value}})}),1)],1),e._v(" "),1!==e.dataform.autoSyncMode?a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"数据批次大小","label-width":"160px",required:!0,prop:"batchSize"}},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            数据同步时单个批次处理的行记录总数，该值越大越占用内存空间。建议：小字段表设置为10000或20000，大字段表设置为100或500\n          ")]),e._v(" "),a("i",{staticClass:"el-icon-question"})]),e._v(" "),a("el-select",{model:{value:e.dataform.batchSize,callback:function(t){e.$set(e.dataform,"batchSize",t)},expression:"dataform.batchSize"}},e._l(e.batchSizeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.toString(),value:e}})}),1)],1):e._e(),e._v(" "),1!==e.dataform.autoSyncMode?a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"通道队列大小","label-width":"160px",required:!0,prop:"channelSize"}},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            数据同步时缓存数据的通道队列大小，该值越大越占用内存空间。当源库读取快目标库写入慢时，缓存在内存中的数据最大占用空间 = 行记录大小 × 数据批次大小 × 通道队列大小 。\n          ")]),e._v(" "),a("i",{staticClass:"el-icon-question"})]),e._v(" "),a("el-select",{model:{value:e.dataform.channelSize,callback:function(t){e.$set(e.dataform,"channelSize",t)},expression:"dataform.channelSize"}},e._l(e.channelSizeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.toString(),value:e}})}),1)],1):e._e(),e._v(" "),1!==e.dataform.autoSyncMode?a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"同步操作方法","label-width":"160px",required:!0,prop:"targetSyncOption"}},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v("数据同步时包括增删改操作，这里选择配置执行INSERT、UPDATE、DELETE操作类型的方法;")]),e._v(" "),a("p",[e._v("对首次数据加载无效，只对数据同步有效;")]),e._v(" "),a("p",[e._v("只对有主键表有效，如果源表为视图表或无主键表则并不生效.")])]),e._v(" "),a("i",{staticClass:"el-icon-question"})]),e._v(" "),a("el-select",{model:{value:e.dataform.targetSyncOption,callback:function(t){e.$set(e.dataform,"targetSyncOption",t)},expression:"dataform.targetSyncOption"}},e._l(e.targetSyncOptionList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.value}})}),1)],1):e._e(),e._v(" "),1!==e.dataform.autoSyncMode?a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"同步前置执行SQL脚本","label-width":"160px",prop:"targetBeforeSqlScripts"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:3,"auto-complete":"off"},model:{value:e.dataform.targetBeforeSqlScripts,callback:function(t){e.$set(e.dataform,"targetBeforeSqlScripts",t)},expression:"dataform.targetBeforeSqlScripts"}}),e._v(" "),a("label",{staticClass:"tips-style block"},[e._v("数据同步写入目标端数据库前执行的SQL，多个SQL间以英文逗号分隔。使用场景如：MySQL数据库关闭外键约束 SET FOREIGN_KEY_CHECKS\n          = 0")])],1):e._e(),e._v(" "),1!==e.dataform.autoSyncMode?a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"同步后置执行SQL脚本","label-width":"160px",prop:"targetAfterSqlScripts"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:3,"auto-complete":"off"},model:{value:e.dataform.targetAfterSqlScripts,callback:function(t){e.$set(e.dataform,"targetAfterSqlScripts",t)},expression:"dataform.targetAfterSqlScripts"}}),e._v(" "),a("label",{staticClass:"tips-style block"},[e._v("数据同步写入目标端数据库后执行的SQL，多个SQL间以英文逗号分隔。使用场景如：MySQL数据库恢复外键约束 SET FOREIGN_KEY_CHECKS = 1")])],1):e._e()],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:4==e.active,expression:"active == 4"}],staticClass:"common-top"},[a("el-alert",{attrs:{title:"说明信息",type:"success"}},[a("p",[e._v("(1) 当表名映射规则记录为空时，代表目标表名与源表名的名称相同;")]),e._v(" "),a("p",[e._v("(2) 当字段名映射规则记录为空时，代表目标表的字段名与源表名的字段名相同")]),e._v(" "),a("p",[e._v("(3) 在字段名映射规则中，如果目标字段名为空（未填写），则代表剔除该字段（不能是主键）的同步")])]),e._v(" "),a("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.addTableNameMapperListRow()}}},[e._v("添加表名映射")]),e._v(" "),a("el-button",{attrs:{type:"warning",round:""},on:{click:function(t){return e.previewTableNameMapList()}}},[e._v("预览表名映射")]),e._v(" "),a("el-table",{staticStyle:{width:"90%","margin-top":"15px"},attrs:{data:e.dataform.tableNameMapper,size:"mini",border:"",height:"200"}},[a("template",{slot:"empty"},[a("span",[e._v('请点击"添加表名映射"按钮添加表名映射关系记录')])]),e._v(" "),a("el-table-column",{attrs:{label:"表名匹配的正则名",width:"320"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"string"},model:{value:t.row.fromPattern,callback:function(a){e.$set(t.row,"fromPattern",a)},expression:"scope.row.fromPattern"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"替换的目标值",width:"320"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"string"},model:{value:t.row.toValue,callback:function(a){e.$set(t.row,"toValue",a)},expression:"scope.row.toValue"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteTableNameMapperListItem(t.$index)}}},[e._v("删除")])]}}])})],2),e._v(" "),a("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.addColumnNameMapperListRow()}}},[e._v("添加字段名映射")]),e._v(" "),a("el-button",{attrs:{type:"warning",round:""},on:{click:function(t){return e.previewColumnNameMapList()}}},[e._v("预览字段名映射")]),e._v(" "),a("el-table",{staticStyle:{width:"90%","margin-top":"15px"},attrs:{data:e.dataform.columnNameMapper,size:"mini",border:"",height:"200"}},[a("template",{slot:"empty"},[a("span",[e._v('请点击"添加字段名映射"按钮添加字段名映射关系记录')])]),e._v(" "),a("el-table-column",{attrs:{label:"字段名匹配的正则名",width:"320"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"string"},model:{value:t.row.fromPattern,callback:function(a){e.$set(t.row,"fromPattern",a)},expression:"scope.row.fromPattern"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"替换的目标值",width:"320"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"string"},model:{value:t.row.toValue,callback:function(a){e.$set(t.row,"toValue",a)},expression:"scope.row.toValue"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteColumnNameMapperListItem(t.$index)}}},[e._v("删除")])]}}])})],2)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:5==e.active,expression:"active == 5"}],staticClass:"common-top"},[a("commonInfo",{attrs:{infoform:e.dataform}})],1)]),e._v(" "),e.active>1?a("el-button",{staticStyle:{"margin-top":"12px","margin-left":"20px"},attrs:{round:""},on:{click:e.pre}},[e._v("\n    上一步\n  ")]):e._e(),e._v(" "),e.active>0&&e.active<5?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{round:""},on:{click:e.next}},[e._v("\n    下一步\n  ")]):e._e(),e._v(" "),5==e.active?a("el-button",{attrs:{round:""},on:{click:e.handleSave}},[e._v("\n    提交\n  ")]):e._e(),e._v(" "),2==e.active?a("el-dialog",{attrs:{title:"选择增量同步表的增量标识字段",visible:e.columnNameIncrementDialogVisible,showClose:!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.columnNameIncrementDialogVisible=t}}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.queryPreviewColumnNameMapperList},model:{value:e.preiveTableName,callback:function(t){e.preiveTableName=t},expression:"preiveTableName"}},e._l(e.preiveSeeTableNameList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}),1),e._v(" "),a("el-table",{attrs:{"header-cell-style":{background:"#eef1f6",color:"#606266"},data:e.columnNamesMapperData,"highlight-current-row":"",size:"mini",border:""},on:{"row-click":e.singleRowClick}},[a("el-table-column",{attrs:{label:"#","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.$index)+"\n        ")]}}],null,!1,716279267)}),e._v(" "),a("el-table-column",{attrs:{prop:"originalName",label:"字段名","min-width":"30%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",label:"字段类型","min-width":"30%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"canIncrement",label:"可标识增量","min-width":"20%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(e.boolValueFormat(t.row.canIncrement)))])]}}],null,!1,3450849314)}),e._v(" "),a("el-table-column",{attrs:{label:"选择","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.row.originalName,disabled:!t.row.canIncrement},nativeOn:{change:function(a){return e.singleRowClick(t.row)}},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(""))])]}}],null,!1,925038950)})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleConfirmSelectIncrTableColumn}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:e.handleCancelSelectIncrTableColumn}},[e._v("取消")])],1)],1):e._e(),e._v(" "),2==e.active?a("el-dialog",{attrs:{title:"提示信息",visible:e.showDataSyncMessageDialogVisible,showClose:!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.showDataSyncMessageDialogVisible=t}}},[a("el-alert",{attrs:{title:"1、数据同步概念",type:"warning",closable:!1,"show-icon":""}},[a("ul",[a("li",[a("b",[e._v("全量同步:")]),e._v(" 先truncate清空目标表后，然后将源端表数据全部插入目标表的过程")]),e._v(" "),a("li",[a("b",[e._v("增量同步:")]),e._v(" 根据增量表指定的增量字段，使用带有WHERE field > value的条件SQL查询源端表数据，然后插入目标表的过程")]),e._v(" "),a("li",[a("b",[e._v("变化量同步:")]),e._v(" 在源端表和目标表都有主键且映射一致的条件下，通过两边数据比对计算出差异，然后目标表执行插入/更新/删除数据的过程")])])]),e._v(" "),a("el-alert",{attrs:{title:"2、dbswitch同步逻辑",type:"info",closable:!1,"show-icon":""}},[a("ul",[a("li",[a("b",[e._v("步骤1:")]),e._v(" 如果是首次同步，则会自动创建目标表，并执行全量数据同步;")]),e._v(" "),a("li",[a("b",[e._v("步骤2:")]),e._v(" 非首次同步时，如果表配置了增量同步标识字段，则会执行增量数据同步;")]),e._v(" "),a("li",[a("b",[e._v("步骤3:")]),e._v(" 非首次同步时，且没有配置增量同步标识字段，如果两端都有主键且映射一致，则会执行变化量数据同步;")]),e._v(" "),a("li",[a("b",[e._v("步骤3:")]),e._v(" 非首次同步时，且没有配置增量同步标识字段，如果两端没有主键或主键不一致，则会执行全量数据同步;")])])]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDataSyncMessageDialogVisible=!1}}},[e._v("关闭")])],1)],1):e._e(),e._v(" "),4==e.active?a("el-dialog",{attrs:{title:"查看表名映射关系",visible:e.tableNameMapperDialogVisible,showClose:!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.tableNameMapperDialogVisible=t}}},[a("el-table",{attrs:{"header-cell-style":{background:"#eef1f6",color:"#606266"},data:e.tableNamesMapperData,size:"mini",border:""}},[a("el-table-column",{attrs:{prop:"originalName",label:"源端表名","min-width":"20%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"targetName",label:"目标表名","min-width":"20%"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.tableNameMapperDialogVisible=!1}}},[e._v("关闭")])],1)],1):e._e(),e._v(" "),4==e.active?a("el-dialog",{attrs:{title:"查看字段映射关系",visible:e.columnNameMapperDialogVisible,showClose:!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.columnNameMapperDialogVisible=t}}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.queryPreviewColumnNameMapperList},model:{value:e.preiveTableName,callback:function(t){e.preiveTableName=t},expression:"preiveTableName"}},e._l(e.preiveSeeTableNameList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}),1),e._v(" "),a("el-table",{attrs:{"header-cell-style":{background:"#eef1f6",color:"#606266"},data:e.columnNamesMapperData,size:"mini",border:""}},[a("el-table-column",{attrs:{prop:"originalName",label:"原始字段名","min-width":"20%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"targetName",label:"目标表字段名","min-width":"20%"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.columnNameMapperDialogVisible=!1}}},[e._v("关闭")])],1)],1):e._e()],1)},staticRenderFns:[]};var i=a("VU/8")(l,n,!1,function(e){a("nFDB")},"data-v-438fb01c",null);t.a=i.exports},jcAZ:function(e,t){},nFDB:function(e,t){},txod:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={components:{commonEdit:a("3DaH").a},data:function(){return{}}},r={render:function(){var e=this.$createElement;return(this._self._c||e)("commonEdit")},staticRenderFns:[]};var l=a("VU/8")(o,r,!1,function(e){a("jcAZ")},"data-v-cc7c874a",null);t.default=l.exports}});